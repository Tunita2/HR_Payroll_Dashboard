"use client"\r\n\r\nimport React, { useState } from 'react';\r\nimport { FaTimes, FaUser, FaEnvelope, FaPhone, FaMapMarkerAlt, FaIdCard, FaBriefcase, FaCalendarAlt, FaUserTie } from 'react-icons/fa';\r\n\r\n// Hàm chuẩn hóa dữ liệu gửi về backend (ví dụ: chuyển field về dạng backend mong muốn)\r\nfunction normalizeProfileForAPI(formData) {\r\n    return {\r\n        FullName: formData.fullName || formData.FullName || '',\r\n        DateOfBirth: formData.dateOfBirth || formData.DateOfBirth || '',\r\n        Gender: formData.gender || formData.Gender || '',\r\n        Nationality: formData.nationality || formData.Nationality || '',\r\n        Email: formData.email || formData.Email || '',\r\n        PhoneNumber: formData.phone || formData.PhoneNumber || '',\r\n        Address: formData.address || formData.Address || '',\r\n        EmployeeID: formData.employeeId || formData.EmployeeID || '',\r\n        DepartmentName: formData.department || formData.DepartmentName || '',\r\n        PositionName: formData.position || formData.PositionName || '',\r\n        HireDate: formData.joinDate || formData.HireDate || '',\r\n        Status: formData.status || formData.Status || '',\r\n        Manager: formData.manager || formData.Manager || ''\r\n    };\r\n}\r\n\r\nconst EditProfileModal = ({ profileData, onSave, onCancel }) => {\r\n    const [formData, setFormData] = useState({ ...profileData });\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData((prev) => ({\r\n            ...prev,\r\n            [name]: value,\r\n        }));\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // Chuẩn hóa dữ liệu gửi về backend\r\n        const apiData = normalizeProfileForAPI(formData);\r\n        onSave(formData, apiData);\r\n    };\r\n\r\n    return (\r\n        <div className="modal-overlay">\r\n            <div className="modal-container">\r\n                <div className="modal-header">\r\n                    <h2>Edit Profile</h2>\r\n                    <button className="modal-close-btn" onClick={onCancel}>\r\n                        <FaTimes />\r\n                    </button>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className="modal-body">\r\n                        {/* Personal Information */}\r\n                        <div className="form-section">\r\n                            <div className="form-section-header">\r\n                                <FaUser className="form-section-icon" />\r\n                                <h3>Personal Information</h3>\r\n                            </div>\r\n                            <div className="form-row">\r\n                                <div className="form-group">\r\n                                    <label htmlFor="fullName">Full Name</label>\r\n                                    <input\r\n                                        id="fullName"\r\n                                        name="fullName"\r\n                                        value={formData.fullName}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                                <div className="form-group">\r\n                                    <label htmlFor="dateOfBirth">Date of Birth</label>\r\n                                    <input\r\n                                        id="dateOfBirth"\r\n                                        name="dateOfBirth"\r\n                                        value={formData.dateOfBirth}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className="form-row">\r\n                                <div className="form-group">\r\n                                    <label htmlFor="gender">Gender</label>\r\n                                    <select\r\n                                        id="gender"\r\n                                        name="gender"\r\n                                        value={formData.gender}\r\n                                        onChange={handleChange}\r\n                                    >\r\n                                        <option value="Male">Male</option>\r\n                                        <option value="Female">Female</option>\r\n                                        <option value="Other">Other</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div className="form-group">\r\n                                    <label htmlFor="nationality">Nationality</label>\r\n                                    <input\r\n                                        id="nationality"\r\n                                        name="nationality"\r\n                                        value={formData.nationality}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Contact Information */}\r\n                        <div className="form-section">\r\n                            <div className="form-section-header">\r\n                                <FaEnvelope className="form-section-icon" />\r\n                                <h3>Contact Information</h3>\r\n                            </div>\r\n                            <div className="form-row">\r\n                                <div className="form-group">\r\n                                    <label htmlFor="email">\r\n                                        <FaEnvelope className="input-icon" /> Email\r\n                                    </label>\r\n                                    <input\r\n                                        id="email"\r\n                                        name="email"\r\n                                        type="email"\r\n                                        value={formData.email}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                                <div className="form-group">\r\n                                    <label htmlFor="phone">\r\n                                        <FaPhone className="input-icon" /> Phone\r\n                                    </label>\r\n                                    <input\r\n                                        id="phone"\r\n                                        name="phone"\r\n                                        value={formData.phone}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className="form-row">\r\n                                <div className="form-group full-width">\r\n                                    <label htmlFor="address">\r\n                                        <FaMapMarkerAlt className="input-icon" /> Address\r\n                                    </label>\r\n                                    <input\r\n                                        id="address"\r\n                                        name="address"\r\n                                        value={formData.address}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Employment Details */}\r\n                        <div className="form-section">\r\n                            <div className="form-section-header">\r\n                                <FaBriefcase className="form-section-icon" />\r\n                                <h3>Employment Details</h3>\r\n                            </div>\r\n                            <div className="form-row">\r\n                                <div className="form-group">\r\n                                    <label htmlFor="employeeId">\r\n                                        <FaIdCard className="input-icon" /> Employee ID\r\n                                    </label>\r\n                                    <input\r\n                                        id="employeeId"\r\n                                        name="employeeId"\r\n                                        value={formData.employeeId}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                                <div className="form-group">\r\n                                    <label htmlFor="department">\r\n                                        <FaBriefcase className="input-icon" /> Department\r\n                                    </label>\r\n                                    <input\r\n                                        id="department"\r\n                                        name="department"\r\n                                        value={formData.department}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className="form-row">\r\n                                <div className="form-group">\r\n                                    <label htmlFor="position">\r\n                                        <FaBriefcase className="input-icon" /> Position\r\n                                    </label>\r\n                                    <input\r\n                                        id="position"\r\n                                        name="position"\r\n                                        value={formData.position}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                                <div className="form-group">\r\n                                    <label htmlFor="joinDate">\r\n                                        <FaCalendarAlt className="input-icon" /> Join Date\r\n                                    </label>\r\n                                    <input\r\n                                        id="joinDate"\r\n                                        name="joinDate"\r\n                                        value={formData.joinDate}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className="form-row">\r\n                                <div className="form-group">\r\n                                    <label htmlFor="manager">\r\n                                        <FaUserTie className="input-icon" /> Manager\r\n                                    </label>\r\n                                    <input\r\n                                        id="manager"\r\n                                        name="manager"\r\n                                        value={formData.manager}\r\n                                        onChange={handleChange}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className="modal-footer">\r\n                        <button type="button" className="cancel-btn" onClick={onCancel}>\r\n                            Cancel\r\n                        </button>\r\n                        <button type="submit" className="save-btn">\r\n                            Save Changes\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditProfileModal;